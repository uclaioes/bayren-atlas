(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{"+OXE":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("mXGw")),i=(0,n(a("c9Um")).default)(r.default.createElement("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z"}),"PictureAsPdf");t.default=i},"3qHP":function(e,t,a){"use strict";var n=a("dV/x"),r=a("mXGw"),i=a.n(r),c=a("TO7N"),o=a.n(c),l=a("Ez9u"),u=a.n(l),s=a("ufm3"),d=a.n(s),p=a("+OXE"),f=a.n(p),m=a("b6Hr"),h=a.n(m),b=a("NeNc"),v=a.n(b),g=i.a.createElement;t.a=function(e){var t=e.type,a=e.sourceType,r=Object(n.a)(e,["type","sourceType"]);switch(t){case"embed":return g(d.a,r);case"file":switch(a){case"image/jpg":case"image/jpeg":case"image/png":case"image/gif":case"image/svg+xml":return g(h.a,r);case"application/pdf":return g(f.a,r);default:return g(u.a,r)}case"page-link":return g(v.a,r);default:return g(o.a,r)}}},"7Tk2":function(e,t,a){"use strict";var n,r=a("Fcif"),i=a("mK0O"),c=a("NthX"),o=a.n(c),l=a("eijD"),u=a("hisu"),s=a("yBJb"),d=a("CHlC"),p=a("kMo5"),f=a("P+uj"),m=a("mXGw"),h=a.n(m),b=a("8Jek"),v=a.n(b),g=a("gbh0"),y=a("leJv"),w=a("/NZN"),O=a("BQn0"),j=a("kebl"),k=a("/ZiB"),x=a("hHRQ"),H=a("laXO"),S=a("CGLF"),C=a("XaiM"),A=h.a.createElement;function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(p.a)(this,a)}}var N={showEmbedForm:!1,embedUrl:"",sourceType:"unknown"},T=Object(g.a)((function(e){return{root:{width:"100%","@global .capitalize":{textTransform:"capitalize"}},wrap:{display:"flex",alignItems:"flex-start"},horizontalMargin:{"& > *":{margin:function(t){return"column"===t.flexDirection?e.spacing(1,0):e.spacing(0,2)},"&:last-child":{marginRight:0},"&:first-child":{marginLeft:0}}},button:{margin:function(t){return"column"===t.flexDirection?e.spacing(0,0,2,0):e.spacing(0,4,0,0)}},embedForm:{display:"flex",margin:e.spacing(0,0,0,2),"& > *":{marginRight:e.spacing(2)}},input:{flexGrow:1,maxWidth:400},inputRoot:{}}}))(n=Object(S.a)("mediaStore")(n=Object(y.d)(n=function(e){Object(d.a)(a,e);var t=M(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state=N,e.handleFileUpload=function(){var t=Object(l.a)(o.a.mark((function t(a){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target.files.item(0),t.next=3,e.props.mediaStore.uploadFile(n);case 3:r=t.sent,e.props.onChange(r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleEmbedUrlChange=function(t){var a=t.target.value;e.setState({embedUrl:a,sourceType:Object(H.b)(a)})},e.openEmbedForm=function(t){e.setState({showEmbedForm:!0})},e.handleSubmitEmbedForm=function(){var t=Object(l.a)(o.a.mark((function t(a){var n,r,i,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.state,r=n.sourceType,i=n.embedUrl,t.next=4,e.props.mediaStore.createMedia(H.a[r],i,r);case 4:c=t.sent,e.reset(),e.props.onChange(c);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.reset=function(){e.setState(E({},N))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.i18n,n=e.rootProps,i=e.flexDirection,c=this.state,o=(c.showEmbedForm,c.embedUrl),l="column"===i;return A(h.a.Fragment,null,A(O.a,Object(r.a)({className:v()(t.wrap,t.horizontalMargin)},n,{flexDirection:i}),A(O.a,{display:"flex",alignItems:"center",flexDirection:i,width:l?"100%":"auto"},A(x.a,{name:"upload",variant:"contained",className:v()(t.button),onChange:this.handleFileUpload,fullWidth:l},a.t("media.create.fileUpload")),null,A(k.a,{variant:"body1",color:"textSecondary"},a.t("media.create.or"))),A(j.a,{required:!0,type:"url",size:"small",variant:"outlined",label:a.t("media.create.url"),value:o,onChange:this.handleEmbedUrlChange,className:t.input,InputProps:{className:t.inputRoot},placeholder:"https://",helperText:this.renderSourceType}),A(w.a,{fullWidth:l,variant:"contained",type:"submit",onClick:this.handleSubmitEmbedForm},a.t("media.create.confirm"))))}},{key:"renderSourceType",get:function(){var e=this.props.i18n,t=this.state.sourceType;return"unknown"===t?e.t("media.create.sourceUnknown"):A(k.a,{variant:"caption"},e.t("media.create.sourceKnown",{sourceType:A("span",{className:"capitalize"},t)}))}}]),a}(h.a.Component))||n)||n)||n;T.defaultProps={onChange:function(){},variant:"horizontal"};t.a=function(e){var t=Object(C.a)();return A(T,Object(r.a)({i18n:t},e))}},Ez9u:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("mXGw")),i=(0,n(a("c9Um")).default)(r.default.createElement("path",{d:"M2 12.5C2 9.46 4.46 7 7.5 7H18c2.21 0 4 1.79 4 4s-1.79 4-4 4H9.5C8.12 15 7 13.88 7 12.5S8.12 10 9.5 10H17v2H9.41c-.55 0-.55 1 0 1H18c1.1 0 2-.9 2-2s-.9-2-2-2H7.5C5.57 9 4 10.57 4 12.5S5.57 16 7.5 16H17v2H7.5C4.46 18 2 15.54 2 12.5z"}),"Attachment");t.default=i},NeNc:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("mXGw")),i=(0,n(a("c9Um")).default)(r.default.createElement("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"}),"Bookmark");t.default=i},TO7N:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("mXGw")),i=(0,n(a("c9Um")).default)(r.default.createElement("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}),"Link");t.default=i},W3vw:function(e,t,a){"use strict";var n=a("NthX"),r=a.n(n),i=a("eijD"),c=a("aNYv"),o=a("Fcif"),l=a("mXGw"),u=a.n(l),s=a("TiKg"),d=a.n(s),p=a("8Jek"),f=a.n(p),m=a("uegv"),h=a("R82R"),b=a("MUVh"),v=a("/ZiB"),g=a("pr62"),y=a("uVDD"),w=a.n(y),O=a("wGBp"),j=a("/NZN"),k=a("oQEK"),x=a("BQn0"),H=a("JSlT"),S=a("3qHP"),C=a("5dyF"),A=a.n(C),z=a("CGLF"),E=a("j6yk"),M=a("xziq"),N=a("HiaQ"),T=a("DFDW"),P=a("XaiM"),D=a("7Tk2"),F=u.a.createElement,U=Object(h.a)((function(e){return{type:{textTransform:"capitalize"},actionCell:{textAlign:"right"},title:{wordBreak:"break-all"},link:{display:"block","&:hover":{color:e.palette.primary.main}},chipWrap:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(0,.5,.5,0)}},date:{position:"relative",whiteSpace:"nowrap"}}})),X=function(e){var t=e.item,a=U();switch(t.sourceType){case"application/pdf":return F("object",{scrolling:"no",data:"/ada-assets/".concat(t.uuid),width:"100%",height:"300px",type:"application/pdf"});case"image/jpg":case"image/jpeg":case"image/png":case"image/gif":case"image/svg+xml":return F("img",{width:"150px",height:"auto",src:"/ada-assets/".concat(t.uuid,"?w=150&h=150")});default:return F(v.a,{className:a.tooltip,variant:"caption"},t.class)}},_=function(e){var t=e.datum,a=e.onDeleteAction,n=U();return F(g.a,{classes:{root:n.actionCell}},F(x.a,{display:"flex",justifyContent:"flex-end"},F(x.a,{color:"text.disabled"},F(k.a,{onClick:function(){return a(t)},color:"inherit",variant:"contained"},F(w.a,null)))))},L=function(e){var t=e.datum,a=e.onAction,n=U(),r=Object(P.a)();return F(g.a,{classes:{root:n.actionCell}},F(j.a,{color:"primary",variant:"contained",onClick:function(){a(t)}},r.t("media.SelectItemCell.label")))},G=function(e){return e.title||e.originalFilename||e.source};t.a=Object(z.a)("mediaStore","userStore","appStore")((function(e){var t=e.mediaStore,a=e.appStore,n=e.userStore,l=e.onSelectItem,s=e.hasLinks,p=U(),h=function(e){var t=Object(P.a)();switch(e){case"xs":case"sm":return[{key:"class",label:t.t("media.attributes.class"),width:80},{key:"title",label:t.t("media.attributes.title"),width:"auto"},{key:"updatedAt",label:t.t("media.attributes.updatedAt"),width:190},{key:"state",label:t.t("media.attributes.state"),width:100}];default:return[{key:"class",label:t.t("media.attributes.class"),width:80},{key:"title",label:t.t("media.attributes.title"),width:"auto"},{key:"updatedAt",label:t.t("media.attributes.updatedAt"),width:190},{key:"owner",label:t.t("media.attributes.owner"),width:190},{key:"state",label:t.t("media.attributes.state"),width:100}]}}(Object(M.a)()),g=u.a.useState(null),y=Object(c.a)(g,2),w=y[0],j=y[1],C=u.a.useState(!1),z=Object(c.a)(C,2),R=z[0],V=z[1],B=Object(P.a)();u.a.useEffect((function(){(function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),e.next=3,t.loadAllMedia();case 3:return e.next=5,a.loadAllTags();case 5:return e.next=7,n.loadAllRoles();case 7:return e.next=9,n.loadAllUsers();case 9:V(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var W=function(){j(null)},I=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.deleteMediaItem(w.uuid);case 2:W();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(e,t){var a=t.handleSetMediaToDelete;return e?function(t){return F(L,Object(o.a)({},t,{onAction:e}))}:function(e){return F(_,Object(o.a)({},e,{onDeleteAction:a}))}}(l,{handleSetMediaToDelete:function(e){j(e)}});return Object(m.d)((function(){return F(b.a,{theme:N.a},F(E.a,{toolbarAddons:F(x.a,{ml:"auto"},F(D.a,null)),isLoading:R,data:t.items,headerAttributes:h,queryAttributes:["title","originalFilename","source",function(e,t){return e.tags.some((function(e){return e&&e.toLowerCase().includes(t)}))}],defaultOrderBy:"updatedAt",renderCell:function(e,t){var a=e[t];switch(t){case"title":return F(u.a.Fragment,null,s?F(A.a,{href:"/admin/media/[uuid]",as:"/admin/media/".concat(e.uuid),passHref:!0},F(v.a,{gutterBottom:!0,component:"a",variant:"body1",className:f()(p.link,p.title)},G(e))):F(v.a,{gutterBottom:!0,variant:"body1",className:p.title},e.title||e.originalFilename||e.source),F(x.a,{className:p.chipWrap},e.tags.map((function(e){return F(H.a,{key:e,size:"small",label:e,color:"secondary"})}))));case"class":return F(u.a.Fragment,null,F(O.a,{placement:"right",title:F(X,{item:e})},F(k.a,null,F(S.a,{type:a,sourceType:e.sourceType}))));case"updatedAt":case"createdAt":var r=d()(a);return F(O.a,{title:r.format("LTS"),placement:"right"},F(v.a,{className:f()(p.type,p.date),variant:"body2",component:"span"},r.format("LL")));case"owner":var i=n.getUser(a);return F(v.a,{variant:"body2"},i&&i.name);default:return F(v.a,{variant:"body2"},e[t])}},ActionCell:J,actionCellWidth:150}),F(T.a,{open:!!w,onCancel:W,onConfirm:I,title:B.t("media.delete.title")},F(v.a,{variant:"body1"},B.t("media.delete.confirmation",{media:F("b",null,w&&G(w))}))))}))}))},b6Hr:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("mXGw")),i=(0,n(a("c9Um")).default)(r.default.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"InsertPhoto");t.default=i},ufm3:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("mXGw")),i=(0,n(a("c9Um")).default)(r.default.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");t.default=i}}]);